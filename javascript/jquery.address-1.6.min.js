!function(a){a.address=function(){var t,b=function(b){return b=a.extend(a.Event(b),function(){for(var b={},c=a.address.parameterNames(),d=0,e=c.length;d<e;d++)b[c[d]]=a.address.parameter(c[d]);return{value:a.address.value(),path:a.address.path(),pathNames:a.address.pathNames(),parameterNames:c,parameters:b,queryString:a.address.queryString()}}.call(a.address)),a(a.address).trigger(b),b},c=function(a){return Array.prototype.slice.call(a)},d=function(){return a().bind.apply(a(a.address),Array.prototype.slice.call(arguments)),a.address},e=function(){return a().unbind.apply(a(a.address),Array.prototype.slice.call(arguments)),a.address},f=function(){return J.pushState&&C.state!==t},g=function(){return("/"+K.pathname.replace(new RegExp(C.state),"")+K.search+(h()?"#"+h():"")).replace(N,"/")},h=function(){var a=K.href.indexOf("#");return a!=-1?K.href.substr(a+1):""},i=function(){return f()?g():h()},j=function(){return"javascript"},k=function(a){return a=a.toString(),(C.strict&&"/"!=a.substr(0,1)?"/":"")+a},l=function(a,b){return parseInt(a.css(b),10)},m=function(){if(!T){var a=i();decodeURI(X)!=decodeURI(a)&&(G&&E<7?K.reload():(G&&!O&&C.history&&M(p,50),X=a,n(B)))}},n=function(a){return M(o,10),b(x).isDefaultPrevented()||b(a?y:z).isDefaultPrevented()},o=function(){if("null"!==C.tracker&&C.tracker!==u){var b=a.isFunction(C.tracker)?C.tracker:H[C.tracker],c=(K.pathname+K.search+(a.address&&!f()?a.address.value():"")).replace(/\/\//,"/").replace(/^\/$/,"");a.isFunction(b)?b(c):a.isFunction(H.urchinTracker)?H.urchinTracker(c):H.pageTracker!==t&&a.isFunction(H.pageTracker._trackPageview)?H.pageTracker._trackPageview(c):H._gaq!==t&&a.isFunction(H._gaq.push)&&H._gaq.push(["_trackPageview",decodeURI(c)])}},p=function(){var a=j()+":"+B+";document.open();document.writeln('<html><head><title>"+I.title.replace(/\'/g,"\\'")+"</title><script>var "+v+' = "'+encodeURIComponent(i()).replace(/\'/g,"\\'")+(I.domain!=K.hostname?'";document.domain="'+I.domain:"")+"\";</script></head></html>');document.close();";E<7?P.src=a:P.contentWindow.location.replace(a)},q=function(){if(Q&&R!=-1){var a,b,c=Q.substr(R+1).split("&");for(a=0;a<c.length;a++)b=c[a].split("="),/^(autoUpdate|history|strict|wrap)$/.test(b[0])&&(C[b[0]]=isNaN(b[1])?/^(true|yes)$/i.test(b[1]):0!==parseInt(b[1],10)),/^(state|tracker)$/.test(b[0])&&(C[b[0]]=b[1]);Q=u}X=i()},r=function(){if(!U){if(U=A,q(),a('a[rel*="address:"]').address(),C.wrap){var c=a("body");a("body > *").wrapAll('<div style="padding:'+(l(c,"marginTop")+l(c,"paddingTop"))+"px "+(l(c,"marginRight")+l(c,"paddingRight"))+"px "+(l(c,"marginBottom")+l(c,"paddingBottom"))+"px "+(l(c,"marginLeft")+l(c,"paddingLeft"))+'px;" />').parent().wrap('<div id="'+v+'" style="height:100%;overflow:auto;position:relative;'+(F&&!window.statusbar.visible?"resize:both;":"")+'" />'),a("html, body").css({height:"100%",margin:0,padding:0,overflow:"hidden"}),F&&a('<style type="text/css" />').appendTo("head").text("#"+v+"::-webkit-resizer { background-color: #fff; }")}G&&!O&&(c=I.getElementsByTagName("frameset")[0],P=I.createElement((c?"":"i")+"frame"),P.src=j()+":"+B,c?(c.insertAdjacentElement("beforeEnd",P),c[c.cols?"cols":"rows"]+=",0",P.noResize=A,P.frameBorder=P.frameSpacing=0):(P.style.display="none",P.style.width=P.style.height=0,P.tabIndex=-1,I.body.insertAdjacentElement("afterBegin",P)),M(function(){a(P).bind("load",function(){var a=P.contentWindow;X=a[v]!==t?a[v]:"",X!=i()&&(n(B),K.hash=X)}),P.contentWindow[v]===t&&p()},50)),M(function(){b("init"),n(B)},1),f()||(G&&E>7||!G&&O?H.addEventListener?H.addEventListener(w,m,B):H.attachEvent&&H.attachEvent("on"+w,m):L(m,50)),"state"in window.history&&a(window).trigger("popstate")}},s=function(a){return a=a.toLowerCase(),a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],{browser:a[1]||"",version:a[2]||"0"}},u=null,v="jQueryAddress",w="hashchange",x="change",y="internalChange",z="externalChange",A=!0,B=!1,C={autoUpdate:A,history:A,strict:A,wrap:B},D=function(){var a={},b=s(navigator.userAgent);return b.browser&&(a[b.browser]=!0,a.version=b.version),a.chrome?a.webkit=!0:a.webkit&&(a.safari=!0),a}(),E=parseFloat(D.version),F=D.webkit||D.safari,G=!a.support.opacity,H=function(){try{return top.document!==t&&top.document.title!==t?top:window}catch(a){return window}}(),I=H.document,J=H.history,K=H.location,L=setInterval,M=setTimeout,N=/\/{2,9}/g;D=navigator.userAgent;var P,O="on"+w in H,Q=a("script:last").attr("src"),R=Q?Q.indexOf("?"):-1,S=I.title,T=B,U=B,V=A,W=B,X=i();if(G){E=parseFloat(D.substr(D.indexOf("MSIE")+4)),I.documentMode&&I.documentMode!=E&&(E=8!=I.documentMode?7:8);var Y=I.onpropertychange;I.onpropertychange=function(){Y&&Y.call(I),I.title!=S&&I.title.indexOf("#"+i())!=-1&&(I.title=S)}}if(J.navigationMode&&(J.navigationMode="compatible"),"complete"==document.readyState)var Z=setInterval(function(){a.address&&(r(),clearInterval(Z))},50);else q(),a(r);return a(window).bind("popstate",function(){decodeURI(X)!=decodeURI(i())&&(X=i(),n(B))}).bind("unload",function(){H.removeEventListener?H.removeEventListener(w,m,B):H.detachEvent&&H.detachEvent("on"+w,m)}),{bind:function(){return d.apply(this,c(arguments))},unbind:function(){return e.apply(this,c(arguments))},init:function(){return d.apply(this,["init"].concat(c(arguments)))},change:function(){return d.apply(this,[x].concat(c(arguments)))},internalChange:function(){return d.apply(this,[y].concat(c(arguments)))},externalChange:function(){return d.apply(this,[z].concat(c(arguments)))},baseURL:function(){var a=K.href;return a.indexOf("#")!=-1&&(a=a.substr(0,a.indexOf("#"))),/\/$/.test(a)&&(a=a.substr(0,a.length-1)),a},autoUpdate:function(a){return a!==t?(C.autoUpdate=a,this):C.autoUpdate},history:function(a){return a!==t?(C.history=a,this):C.history},state:function(a){if(a!==t){C.state=a;var b=g();return C.state!==t&&(J.pushState?"/#/"==b.substr(0,3)&&K.replace(C.state.replace(/^\/$/,"")+b.substr(2)):"/"!=b&&b.replace(/^\/#/,"")!=h()&&M(function(){K.replace(C.state.replace(/^\/$/,"")+"/#"+b)},1)),this}return C.state},strict:function(a){return a!==t?(C.strict=a,this):C.strict},tracker:function(a){return a!==t?(C.tracker=a,this):C.tracker},wrap:function(a){return a!==t?(C.wrap=a,this):C.wrap},update:function(){return W=A,this.value(X),W=B,this},title:function(a){return a!==t?(M(function(){S=I.title=a,V&&P&&P.contentWindow&&P.contentWindow.document&&(P.contentWindow.document.title=a,V=B)},50),this):I.title},value:function(a){if(a!==t){if(a=k(a),"/"==a&&(a=""),X==a&&!W)return;if(X=a,C.autoUpdate||W){if(n(A))return this;f()?J[C.history?"pushState":"replaceState"]({},"",C.state.replace(/\/$/,"")+(""===X?"/":X)):(T=A,F?C.history?K.hash="#"+X:K.replace("#"+X):X!=i()&&(C.history?K.hash="#"+X:K.replace("#"+X)),G&&!O&&C.history&&M(p,50),F?M(function(){T=B},1):T=B)}return this}return k(X)},path:function(a){if(a!==t){var b=this.queryString(),c=this.hash();return this.value(a+(b?"?"+b:"")+(c?"#"+c:"")),this}return k(X).split("#")[0].split("?")[0]},pathNames:function(){var a=this.path(),b=a.replace(N,"/").split("/");return"/"!=a.substr(0,1)&&0!==a.length||b.splice(0,1),"/"==a.substr(a.length-1,1)&&b.splice(b.length-1,1),b},queryString:function(a){if(a!==t){var b=this.hash();return this.value(this.path()+(a?"?"+a:"")+(b?"#"+b:"")),this}return a=X.split("?"),a.slice(1,a.length).join("?").split("#")[0]},parameter:function(b,c,d){var e,f;if(c!==t){var g=this.parameterNames();for(f=[],c=c===t||c===u?"":c.toString(),e=0;e<g.length;e++){var h=g[e],i=this.parameter(h);"string"==typeof i&&(i=[i]),h==b&&(i=c===u||""===c?[]:d?i.concat([c]):[c]);for(var j=0;j<i.length;j++)f.push(h+"="+i[j])}return a.inArray(b,g)==-1&&c!==u&&""!==c&&f.push(b+"="+c),this.queryString(f.join("&")),this}if(c=this.queryString()){for(d=[],f=c.split("&"),e=0;e<f.length;e++)c=f[e].split("="),c[0]==b&&d.push(c.slice(1).join("="));if(0!==d.length)return 1!=d.length?d:d[0]}},parameterNames:function(){var b=this.queryString(),c=[];if(b&&b.indexOf("=")!=-1){b=b.split("&");for(var d=0;d<b.length;d++){var e=b[d].split("=")[0];a.inArray(e,c)==-1&&c.push(e)}}return c},hash:function(a){return a!==t?(this.value(X.split("#")[0]+(a?"#"+a:"")),this):(a=X.split("#"),a.slice(1,a.length).join("#"))}}}(),a.fn.address=function(b){return this.data("address")||this.on("click",function(c){if(c.shiftKey||c.ctrlKey||c.metaKey||2==c.which)return!0;var d=c.currentTarget;a(d).is("a")&&(c.preventDefault(),c=b?b.call(d):/address:/.test(a(d).attr("rel"))?a(d).attr("rel").split("address:")[1].split(" ")[0]:void 0===a.address.state()||/^\/?$/.test(a.address.state())?a(d).attr("href").replace(/^(#\!?|\.)/,""):a(d).attr("href").replace(new RegExp("^(.*"+a.address.state()+"|\\.)"),""),a.address.value(c))}).on("submit",function(c){var d=c.currentTarget;a(d).is("form")&&(c.preventDefault(),c=a(d).attr("action"),d=b?b.call(d):(c.indexOf("?")!=-1?c.replace(/&$/,""):c+"?")+a(d).serialize(),a.address.value(d))}).data("address",!0),this}}(jQuery);